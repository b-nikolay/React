(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{249:function(e,t,a){e.exports={content:"ProfileInfo_content__2-dYo",profile:"ProfileInfo_profile__V5OPu",img:"ProfileInfo_img__31Fgw",info:"ProfileInfo_info__nV8yS",avatar:"ProfileInfo_avatar__2MPVc",description:"ProfileInfo_description__3ClBJ",about:"ProfileInfo_about__2rf6p",list:"ProfileInfo_list__3ZxbH",uploadFile:"ProfileInfo_uploadFile__1r0ga",fullName:"ProfileInfo_fullName__1zY1p",profileInfo:"ProfileInfo_profileInfo__3d89U",button:"ProfileInfo_button__2XM2l",placeholder:"ProfileInfo_placeholder__QtGfu",social:"ProfileInfo_social__h4roL",title:"ProfileInfo_title__FjxNL",descr:"ProfileInfo_descr__2zCk9"}},250:function(e,t,a){e.exports={content:"MyPosts_content__2Qcd9",posts:"MyPosts_posts__1kA2F",newPost:"MyPosts_newPost__3x_BZ",form:"MyPosts_form__TRYCk",textarea:"MyPosts_textarea__2DvyR",button:"MyPosts_button__iPQqA",err:"MyPosts_err__3XA7X"}},251:function(e,t,a){e.exports={img:"Post_img__2BjQJ",post:"Post_post__3OGf5",like:"Post_like__lpwV5"}},252:function(e,t,a){e.exports={content:"Profile_content__4KUod",img:"Profile_img__LEbog",info:"Profile_info__2SRbW",avatar:"Profile_avatar__3Jdj4",description:"Profile_description__3o_2K"}},253:function(e,t,a){"use strict";a.r(t);var o=a(3),s=a(4),n=a(8),r=a(2),l=a(7),i=a(0),c=a.n(i),u=a(19),m=a(65),f=a(5),p=a(251),d=a.n(p),b=function(e){return c.a.createElement("div",{className:d.a.post},c.a.createElement("img",{className:d.a.img,src:e.src,alt:""}),e.message,c.a.createElement("span",{className:d.a.title}),c.a.createElement("button",{className:d.a.like}," Likes"))},_=a(250),E=a.n(_),v=a(27),P=function(e){var t={};return e.newPostText||(t.newPostText="Enter a message"),t},g=function(e){return c.a.createElement(v.d,{initialValues:{newPostText:""},validate:P,onSubmit:function(t,a){var o=a.resetForm;e.addNewPost(t),o({values:""})}},function(e){return c.a.createElement(v.c,{className:E.a.form},c.a.createElement("div",{className:E.a.textarea},c.a.createElement(v.b,{name:"newPostText",as:"textarea",rows:"2",placeholder:"You message",className:E.a.messageSend}),c.a.createElement(v.a,{name:"newPostText",component:"div",className:E.a.err})),c.a.createElement("button",{disabled:!(e.isValid&&e.dirty),className:E.a.button,type:"submit"},"Send"))})},h=c.a.memo(function(e){var t=Object(f.a)(e.posts).reverse().map(function(e){return c.a.createElement(b,{src:e.src,id:e.id,key:e.message,message:e.message,likesCount:e.likesCount})});return c.a.createElement("div",{className:E.a.posts},c.a.createElement("h2",null,"My Posts"),c.a.createElement("div",{className:E.a.newPost},c.a.createElement(g,{addNewPost:function(t){e.addPost(t.newPostText)}})),t)}),N=Object(u.b)(function(e){return{newPostText:e.profilePage.newPostText,posts:e.profilePage.posts}},function(e){return{addPost:function(t){e(Object(m.a)(t))}}})(h),k=a(252),j=a.n(k),O=a(11),y=a(100),w=a.n(y),M=a(47),I=a(249),x=a.n(I),S=function(e){var t=e.profile,a=e.saveProfile,o=e.setEditMode;return c.a.createElement(v.d,{initialValues:{fullName:t.fullName||"name",lookingForAJob:t.lookingForAJob,lookingForAJobDescription:t.lookingForAJobDescription||"looking for a job",aboutMe:t.aboutMe||"about me","contacts.":""},onSubmit:function(e,t){var s=t.setStatus;a(e,s).then(function(){o(!1)})}},function(e){return c.a.createElement(v.c,null,c.a.createElement("button",{type:"submit",className:x.a.button},"Save"),c.a.createElement("div",{className:x.a.input},c.a.createElement("div",{className:x.a.description},c.a.createElement("span",{className:x.a.about},c.a.createElement("b",{className:x.a.title},"Your name"),c.a.createElement(v.b,{name:"fullName",type:"text",placeholder:"Your name"}))),c.a.createElement("div",{className:x.a.description},c.a.createElement("span",{className:x.a.about},c.a.createElement("b",{className:x.a.title},"About: "),c.a.createElement(v.b,{name:"aboutMe",className:x.a.placeholder,as:"textarea",placeholder:"Your name"})),c.a.createElement("span",{className:x.a.about},c.a.createElement("b",{className:x.a.title},"Looking for a job: "),c.a.createElement(v.b,{type:"checkbox",name:"lookingForAJob",id:"lookingForAJob"})),c.a.createElement("span",{className:x.a.about},c.a.createElement("b",{className:x.a.title},"Looking for a job description: "),c.a.createElement(v.b,{name:"lookingForAJobDescription",className:x.a.placeholder,as:"textarea",placeholder:"Looking for a job description"}))),c.a.createElement("div",{className:x.a.description},c.a.createElement("b",{className:x.a.title},"Contacts"),Object.keys(t.contacts).map(function(e){return c.a.createElement("span",{className:x.a.about},c.a.createElement("div",{className:x.a.social},e),c.a.createElement(v.b,{name:"contacts."+e,values:e,type:"text",placeholder:e}))}))),c.a.createElement("div",{className:x.a.error},e.status))})},A=function(e){function t(){var e,a;Object(o.a)(this,t);for(var s=arguments.length,l=new Array(s),i=0;i<s;i++)l[i]=arguments[i];return(a=Object(n.a)(this,(e=Object(r.a)(t)).call.apply(e,[this].concat(l)))).state={editMode:!1,status:a.props.status},a.activateEditMode=function(){a.setState({editMode:!0})},a.deactivateEditMode=function(){a.setState({editMode:!1}),a.props.updateStatus(a.state.status)},a.onStatusChange=function(e){a.setState({status:e.currentTarget.value})},a}return Object(l.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return c.a.createElement("div",{className:x.a.status},!this.state.editMode&&c.a.createElement("span",{onDoubleClick:this.activateEditMode,className:x.a.description},this.props.status||"No status"),this.state.editMode&&c.a.createElement("input",{onChange:this.onStatusChange,autoFocus:!0,onBlur:this.deactivateEditMode,value:this.state.status,type:"text",placeholder:"Your status"}))}}]),t}(c.a.Component),F=function(e){var t=e.title,a=e.value;return c.a.createElement("li",{className:x.a.list},c.a.createElement("a",{href:"/"},a||t))},C=function(e){var t=e.profile,a=e.isOwner,o=e.goToEditMode;return c.a.createElement("div",{className:x.a.descr},a&&c.a.createElement("button",{onClick:o,className:x.a.button},"Button edit"),c.a.createElement("div",{className:x.a.description},c.a.createElement("span",{className:x.a.about},c.a.createElement("b",null,"About: "),t.aboutMe?t.aboutMe:"about me"),c.a.createElement("span",{className:x.a.about},c.a.createElement("b",null,"Looking for a job: "),t.lookingForAJob?"yes":"no"),c.a.createElement("span",{className:x.a.about},c.a.createElement("b",null,"Looking for a job description: "),t.lookingForAJob&&t.lookingForAJobDescription)),c.a.createElement("div",{className:x.a.description},c.a.createElement("ul",{className:x.a.title},c.a.createElement("b",null,"Contacts: "),Object.keys(t.contacts).map(function(e){return c.a.createElement(F,{key:e,title:e,value:t.contacts[e]})}))))},J=function(e){var t=Object(i.useState)(!1),a=Object(O.a)(t,2),o=a[0],s=a[1];if(!e.profile)return c.a.createElement(M.a,null);return c.a.createElement("div",{className:x.a.profile},c.a.createElement("div",{className:x.a.info},c.a.createElement("div",{className:x.a.description},c.a.createElement("img",{className:x.a.avatar,src:e.profile.photos.large||w.a,alt:""}),c.a.createElement("div",{className:x.a.profileInfo},c.a.createElement("span",{className:x.a.fullName},e.profile.fullName),e.isOwner&&c.a.createElement("input",{className:x.a.uploadFile,onChange:function(t){t.target.files.length&&e.savePhoto(t.target.files[0])},type:"file",name:"",id:""}))),c.a.createElement("div",{className:x.a.description},c.a.createElement("span",{className:x.a.about},c.a.createElement("b",null,"Status: "),c.a.createElement(A,{status:e.status,updateStatus:e.updateStatus}))),o?c.a.createElement(S,{setEditMode:function(){s()},saveProfile:e.saveProfile,profile:e.profile}):c.a.createElement(C,{goToEditMode:function(){s(!0)},profile:e.profile,isOwner:e.isOwner})))},T=function(e){return c.a.createElement("div",{className:j.a.content},c.a.createElement(J,{isOwner:e.isOwner,savePhoto:e.savePhoto,profile:e.profile,status:e.status,updateStatus:e.updateStatus,saveProfile:e.saveProfile}),c.a.createElement(N,null))},U=a(1),D=a(25),L=function(e){function t(){return Object(o.a)(this,t),Object(n.a)(this,Object(r.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(s.a)(t,[{key:"refreshProfile",value:function(){var e=this.props.router.params.userId;e||(e=this.props.loginingUserId)||this.props.router.navigate("/login"),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,a){this.props.router.params.userId!==e.router.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return c.a.createElement(T,Object.assign({isOwner:!this.props.router.params.userId,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile},this.props))}}]),t}(c.a.Component);t.default=Object(D.c)(Object(u.b)(function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,loginingUserId:e.auth.userId,isAuth:e.auth.isAuth}},{getUserProfile:m.c,getUserStatus:m.d,updateStatus:m.g,savePhoto:m.e,saveProfile:m.f}),function(e){return function(t){var a=Object(U.f)(),o=Object(U.g)(),s=Object(U.h)();return c.a.createElement(e,Object.assign({},t,{router:{location:a,navigate:o,params:s}}))}})(L)}}]);
//# sourceMappingURL=3.f4ae282a.chunk.js.map